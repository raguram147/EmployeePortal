{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/raguram_s/lister-emp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/home/raguram_s/lister-emp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import\"../components/styles/style.css\";import config from\"../config\";import Profile_icons from\"../assets/User_icons.png\";import Menu from\"@material-ui/core/Menu\";import MenuItem from\"@material-ui/core/MenuItem\";import{makeStyles,Button}from\"@material-ui/core\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import ActivityNotifications from\"./ActivityNotifications\";import NotificationsNoneIcon from\"@material-ui/icons/NotificationsNone\";import{NotificationManager}from\"react-notifications\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},paper:{backgroundColor:theme.palette.background.paper,border:\"2px solid #000\",boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});var FilterNav=function FilterNav(_ref){var navdata=_ref.navdata,color=_ref.color;var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];// console.log(color);\nvar handleOpen=function handleOpen(){setOpen(true);};var closeModal=function closeModal(){setOpen(false);setAnchorEl(null);};// console.log(navdata)\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var fetchURL=navdata;var fetchEmployee=config.drupal_url+\"/Employees\";var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),HomeNav=_useState4[0],setItems=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),employeesApi=_useState6[0],setEmployees=_useState6[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),anchorEl=_React$useState4[0],setAnchorEl=_React$useState4[1];var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);// setShow(false);\n// console.log(\"good\");\n};var handleLogOut=function handleLogOut(){window.sessionStorage.setItem(\"login\",\"false\");// console.log(\"good day\");\nsetAnchorEl(null);window.location.replace(config.react_url);// setShow(false);\n};var Notifications=function Notifications(){var employees=employeesApi;// let event = [];\nif(employees){var date=new Date().getDate();if(date<10){date=\"0\"+date;}var month=new Date().getMonth()+1;if(month<10){month=\"0\"+month;}var year=new Date().getFullYear();var todayDate=month+\"-\"+date;// console.log(todayDoB + ' ' + DOB );\n// console.log(year + '-' + month + '-' + date);\nvar _loop=function _loop(i){var DOB=employees[i].DOB.slice(5,10);//employee's birthday\nif(DOB.includes(todayDate)){// console.log(todayDate + \" \" + DOB + \" \" + i);\nNotificationManager.success(\"wish him\",employees[i].name+\"'s Birthday\",8000,function(){window.location.href=\"/employee-details/\"+employees[i].Emp_id;});}//profile updation notification\nif(employees[i].revision_id!==employees[i].latest_revision_id){NotificationManager.info(\"Check and publish\",employees[i].name+\" updated the profile\",8000,function(){window.location.assign(config.drupal_url+\"/node/\"+employees[i].nid+\"/latest\");});// console.log(\"profile changed\");\n}//completon years in lister\n// console.log(employees[i].date_of_joining + ' ' + todayDate +' '+ year);\nif(employees[i].date_of_joining.includes(todayDate)){var JoiningYear=employees[i].date_of_joining.slice(0,4);// console.log(todayDate + \" \" + JoiningYear + \" \" + year);\nif(year-JoiningYear>0){NotificationManager.warning(\"congratulate him\",employees[i].name+\" has completed \"+(year-JoiningYear)+\" years with lister\",8000,function(){window.location.href=\"/employee-details/\"+employees[i].Emp_id;});}else{NotificationManager.warning(\"congratulate him\",employees[i].name+\" has joined lister\",8000,function(){window.location.href=\"/employee-details/\"+employees[i].Emp_id;});}}};for(var i=0;i<employees.length;i++){_loop(i);}}// window.sessionStorage.setItem(\"Notifications\", \"true\");\n// console.log(window.sessionStorage.getItem(\"Notifications\"));\n};useEffect(function(){// window.addEventListener(\"scroll\", handleScroll);\nvar getItems=function getItems(){return fetch(fetchURL).then(function(res){return res.json();});};getItems().then(function(data){return setItems(data);});var getEmployees=function getEmployees(){return fetch(fetchEmployee).then(function(res){return res.json();});};getEmployees().then(function(data){return setEmployees(data);});},[fetchURL,setItems,fetchEmployee]);var params=new URLSearchParams(window.location.search);if(params.get(\"login\")===\"true\"){window.sessionStorage.setItem(\"login\",\"true\");}return/*#__PURE__*/_jsx(Nav,{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(config.drupal_url,\"/\").concat(window.sessionStorage.getItem(\"Logo\")),alt:\"Employee Portal\",style:{height:\"60px\"}}),/*#__PURE__*/_jsxs(Humburger,{onClick:function onClick(){return setIsOpen(!isOpen);},children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsx(Menu1,{isOpen:isOpen,children:/*#__PURE__*/_jsxs(LinkWrapper,{children:[HomeNav&&HomeNav.map(function(data,index){return/*#__PURE__*/_jsx(\"a\",{href:data.url,activeclass:\"active\",children:/*#__PURE__*/_jsxs(MenuLink,{children:[data.name,\" \"]})},index);}),/*#__PURE__*/_jsxs(\"a\",{activeclass:\"active\",href:config.drupal_url+\"/admin/content\",children:[\" \",/*#__PURE__*/_jsx(MenuLink,{children:\"Dashboard\"})]}),/*#__PURE__*/_jsx(ActivityNotifications,{}),/*#__PURE__*/_jsxs(\"div\",{onClick:Notifications,className:\"notification-section\",children:[/*#__PURE__*/_jsx(NotificationsNoneIcon,{style:{color:\"#858586\"}}),window.sessionStorage.getItem(\"NotificationsCount\")>0?/*#__PURE__*/_jsx(\"div\",{className:\"notification-count\",children:window.sessionStorage.getItem(\"NotificationsCount\")}):/*#__PURE__*/_jsx(_Fragment,{})]}),window.sessionStorage.getItem(\"login\")===\"true\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"Profile_icons\",src:Profile_icons,alt:\"Profile\",onClick:handleClick}),/*#__PURE__*/_jsxs(Menu,{id:\"simple-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,style:{top:\"40px\",right:\"5%\"},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,children:/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(config.drupal_url,\"/node/add/employee\"),className:\"Profile-Nav\",style:{textDecoration:\"none\"},children:\"Profile\"})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleOpen,children:\"Logout\"})]}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:closeModal,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[\"Are you sure want to Logout the account!\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{style:{margin:\"10px\"},variant:\"secondary\",onClick:closeModal,onChange:handleLogOut,children:\"No,Wait\"}),/*#__PURE__*/_jsx(Button,{style:{margin:\"10px\",backgroundColor:\"#ef6e25\",border:\"#ef6e25\",borderRadius:\"10%\"},variant:\"primary\",onClick:handleLogOut,children:\"Yes,Logout\"})]})})})]}):/*#__PURE__*/_jsx(Button1,{children:/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(config.drupal_url,\"/user/login\"),style:{color:\"white\"},children:\"LOGIN\"})})]})})]})});};export default FilterNav;var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  width: 100%;\\n  align-items: center;\\n  flex-wrap: wrap;\\n  max-width: 100%;\\n  margin: auto;\\n  padding: 0;\\n  img {\\n    cursor: Pointer;\\n  }\\n  a {\\n    text-decoration: none;\\n    color: #000000;\\n    font-size: 18px;\\n    font-family: Montserrat;\\n    padding: 0.7rem 1.5rem;\\n    transition: all 0.2s ease-in;\\n    font-wegiht: 500;\\n    &:hover {\\n      color: #ef6e25;\\n      background: #e7e9fc;\\n    }\\n  }\\n\"])));var Nav=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 5%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  flex-wrap: wrap;\\n  position: sticky;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 3;\\n  background-color:#FFF;\\n\"])));var Menu1=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  diplay: flex;\\n  justy-content: space-between;\\n  align-item: center;\\n  position: relative;\\n  @media (max-width: 768px) {\\n    background-color: rgba(255, 255, 255, 0.9);\\n    @supports (-webkit-backdrop-filter: none) or (backdrop-filter: none) {\\n      -webkit-backdrop-filter: blur(35px);\\n      backdrop-filter: blur(15px);\\n      background-color: rgba(255, 255, 255, 0.4);\\n    }\\n    border-radius: 1rem;\\n    margin-top: 1rem;\\n    box-shadow: -4px 8px 15px 1px rgba(0, 0, 0, 0.07);\\n    overflow: hidden;\\n    flex-direction: column;\\n    max-height: \",\";\\n    transition: max-height 0.3s ease-in;\\n    width: 100%;\\n  }\\n\"])),function(_ref2){var isOpen=_ref2.isOpen;return isOpen?\"300px\":\"0\";});var LinkWrapper=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  position: relative;\\n  padding: 0.5rem 0;\\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n  }\\n\"])));var MenuLink=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  text-decoration: none;\\n  color: #858586;\\n  font-size: 1rem;\\n  padding: 0rem;\\n  transition: all 0.2s ease-in;\\n  border-radius: 0.5rem;\\n  font-weight: 500;\\n  cursor: pointer;\\n  &:hover {\\n    color: #ef6e25;\\n    background: #e7e9fc;\\n  }\\n\"])));var Button1=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-family: Montserrat;\\n  font-size: 1rem;\\n  background: #ef6e25;\\n  border: none;\\n  padding: 8px;\\n  color: white;\\n  border-radius: 1rem;\\n  box-shadow: 0px 2px 3px -2px #ef6e25;\\n  transition: all 0.2s ease-in;\\n  margin-left: 0.5rem;\\n  cursor: pointer;\\n  &:hover {\\n    box-shadow: 1px 5px 12px -6px #ef6e25;\\n    transform: translateY(-2px);\\n  }\\n  @media (max-width: 768px) {\\n  }\\n  a {\\n    text-decoration: none;\\n    color: white;\\n    &:hover {\\n      color: white;\\n      background: none;\\n    }\\n  }\\n\"])));var Humburger=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: none;\\n  flex-direction: column;\\n  cursor: pointer;\\n  span {\\n    height: 2px;\\n    width: 25px;\\n    background: #ef6e25;\\n    margin-bottom: 4px;\\n    border-radius: 5px;\\n  }\\n  @media (max-width: 780px) {\\n    display: flex;\\n  }\\n\"])));","map":{"version":3,"sources":["/home/raguram_s/lister-emp-portal/src/components/FilterNav.js"],"names":["React","useState","useEffect","styled","config","Profile_icons","Menu","MenuItem","makeStyles","Button","Modal","Backdrop","Fade","ActivityNotifications","NotificationsNoneIcon","NotificationManager","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","FilterNav","navdata","color","classes","open","setOpen","handleOpen","closeModal","setAnchorEl","isOpen","setIsOpen","fetchURL","fetchEmployee","drupal_url","HomeNav","setItems","employeesApi","setEmployees","anchorEl","handleClick","event","currentTarget","handleClose","handleLogOut","window","sessionStorage","setItem","location","replace","react_url","Notifications","employees","date","Date","getDate","month","getMonth","year","getFullYear","todayDate","i","DOB","slice","includes","success","name","href","Emp_id","revision_id","latest_revision_id","info","assign","nid","date_of_joining","JoiningYear","warning","length","getItems","fetch","then","res","json","data","getEmployees","params","URLSearchParams","search","get","getItem","height","map","index","url","Boolean","top","right","textDecoration","timeout","margin","borderRadius","Container","div","Nav","Menu1","LinkWrapper","MenuLink","Button1","button","Humburger"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport \"../components/styles/style.css\";\nimport config from \"../config\";\nimport Profile_icons from \"../assets/User_icons.png\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles, Button } from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport ActivityNotifications from \"./ActivityNotifications\";\nimport NotificationsNoneIcon from \"@material-ui/icons/NotificationsNone\";\nimport { NotificationManager } from \"react-notifications\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nconst FilterNav = ({ navdata, color }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  // console.log(color);\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const closeModal = () => {\n    setOpen(false);\n    setAnchorEl(null);\n  };\n  // console.log(navdata)\n  const [isOpen, setIsOpen] = useState(false);\n  const fetchURL = navdata;\n  const fetchEmployee = config.drupal_url + \"/Employees\";\n  const [HomeNav, setItems] = useState();\n  const [employeesApi, setEmployees] = useState();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    // setShow(false);\n    // console.log(\"good\");\n  };\n\n  const handleLogOut = () => {\n    window.sessionStorage.setItem(\"login\", \"false\");\n    // console.log(\"good day\");\n    setAnchorEl(null);\n    window.location.replace(config.react_url);\n    // setShow(false);\n  };\n\n  const Notifications = () => {\n    let employees = employeesApi;\n    // let event = [];\n    if (employees) {\n      var date = new Date().getDate();\n      if (date < 10) {\n        date = \"0\" + date;\n      }\n      var month = new Date().getMonth() + 1;\n      if (month < 10) {\n        month = \"0\" + month;\n      }\n      var year = new Date().getFullYear();\n      var todayDate = month + \"-\" + date;\n      // console.log(todayDoB + ' ' + DOB );\n      // console.log(year + '-' + month + '-' + date);\n\n      for (let i = 0; i < employees.length; i++) {\n        let DOB = employees[i].DOB.slice(5, 10);\n\n        //employee's birthday\n        if (DOB.includes(todayDate)) {\n          // console.log(todayDate + \" \" + DOB + \" \" + i);\n          NotificationManager.success(\n            \"wish him\",\n            employees[i].name + \"'s Birthday\",\n            8000,\n            () => {\n              window.location.href = \"/employee-details/\" + employees[i].Emp_id;\n            }\n          );\n        }\n\n        //profile updation notification\n        if (employees[i].revision_id !== employees[i].latest_revision_id) {\n          NotificationManager.info(\n            \"Check and publish\",\n            employees[i].name + \" updated the profile\",\n            8000,\n            () => {\n              window.location.assign(\n                config.drupal_url + \"/node/\" + employees[i].nid + \"/latest\"\n              );\n            }\n          );\n\n          // console.log(\"profile changed\");\n        }\n\n        //completon years in lister\n        // console.log(employees[i].date_of_joining + ' ' + todayDate +' '+ year);\n        if (employees[i].date_of_joining.includes(todayDate)) {\n          let JoiningYear = employees[i].date_of_joining.slice(0, 4);\n          // console.log(todayDate + \" \" + JoiningYear + \" \" + year);\n          if (year - JoiningYear > 0) {\n            NotificationManager.warning(\n              \"congratulate him\",\n              employees[i].name +\n                \" has completed \" +\n                (year - JoiningYear) +\n                \" years with lister\",\n              8000,\n              () => {\n                window.location.href =\n                  \"/employee-details/\" + employees[i].Emp_id;\n              }\n            );\n          } else {\n            NotificationManager.warning(\n              \"congratulate him\",\n              employees[i].name + \" has joined lister\",\n              8000,\n              () => {\n                window.location.href =\n                  \"/employee-details/\" + employees[i].Emp_id;\n              }\n            );\n          }\n        }\n      }\n    }\n\n    // window.sessionStorage.setItem(\"Notifications\", \"true\");\n    // console.log(window.sessionStorage.getItem(\"Notifications\"));\n  };\n\n  useEffect(() => {\n    // window.addEventListener(\"scroll\", handleScroll);\n    const getItems = () => fetch(fetchURL).then((res) => res.json());\n    getItems().then((data) => setItems(data));\n\n    const getEmployees = () => fetch(fetchEmployee).then((res) => res.json());\n    getEmployees().then((data) => setEmployees(data));\n  }, [fetchURL, setItems, fetchEmployee]);\n\n  let params = new URLSearchParams(window.location.search);\n  if (params.get(\"login\") === \"true\") {\n    window.sessionStorage.setItem(\"login\", \"true\");\n  }\n  return (\n    <Nav>\n      <Container>\n        <img\n          src={`${config.drupal_url}/${window.sessionStorage.getItem(\"Logo\")}`}\n          alt=\"Employee Portal\"\n          style={{ height: \"60px\" }}\n        ></img>\n        {/* {console.log(\"login:\" + window.sessionStorage.getItem(\"login\"))} */}\n        <Humburger onClick={() => setIsOpen(!isOpen)}>\n          <span></span>\n          <span></span>\n          <span></span>\n        </Humburger>\n        <Menu1 isOpen={isOpen}>\n          <LinkWrapper>\n            \n            {HomeNav &&\n              HomeNav.map((data, index) => (\n                \n                <a href={data.url} activeclass=\"active\" key={index}>\n                  <MenuLink>{data.name} </MenuLink>\n                </a>\n               \n              ))}\n            <a activeclass=\"active\" href={config.drupal_url + \"/admin/content\"}>\n              {\" \"}\n              <MenuLink>Dashboard</MenuLink>\n            </a>\n            <ActivityNotifications></ActivityNotifications>\n\n            <div onClick={Notifications} className=\"notification-section\">\n              <NotificationsNoneIcon\n                style={{ color: \"#858586\" }}\n              ></NotificationsNoneIcon>\n              {window.sessionStorage.getItem(\"NotificationsCount\") > 0 ? (\n                <div className=\"notification-count\">\n                  {window.sessionStorage.getItem(\"NotificationsCount\")}\n                </div>\n              ) : (\n                <></>\n              )}\n            </div>\n            {window.sessionStorage.getItem(\"login\") === \"true\" ? (\n              <>\n                <img\n                  className=\"Profile_icons\"\n                  src={Profile_icons}\n                  alt=\"Profile\"\n                  onClick={handleClick}\n                ></img>\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                  style={{ top: \"40px\", right: \"5%\" }}\n                >\n                  <MenuItem onClick={handleClose}>\n                    <a\n                      href={`${config.drupal_url}/node/add/employee`}\n                      className=\"Profile-Nav\"\n                      style={{ textDecoration: \"none\" }}\n                    >\n                      Profile\n                    </a>\n                  </MenuItem>\n                  <MenuItem onClick={handleOpen}>Logout</MenuItem>\n                </Menu>\n\n                <Modal\n                  aria-labelledby=\"transition-modal-title\"\n                  aria-describedby=\"transition-modal-description\"\n                  className={classes.modal}\n                  open={open}\n                  onClose={closeModal}\n                  closeAfterTransition\n                  BackdropComponent={Backdrop}\n                  BackdropProps={{\n                    timeout: 500,\n                  }}\n                >\n                  <Fade in={open}>\n                    <div className={classes.paper}>\n                      Are you sure want to Logout the account!<br></br>\n                      <Button\n                        style={{ margin: \"10px\" }}\n                        variant=\"secondary\"\n                        onClick={closeModal}\n                        onChange={handleLogOut}\n                      >\n                        No,Wait\n                      </Button>\n                      <Button\n                        style={{\n                          margin: \"10px\",\n                          backgroundColor: \"#ef6e25\",\n                          border: \"#ef6e25\",\n                          borderRadius: \"10%\",\n                        }}\n                        variant=\"primary\"\n                        onClick={handleLogOut}\n                      >\n                        Yes,Logout\n                      </Button>\n                    </div>\n                  </Fade>\n                </Modal>\n              </>\n            ) : (\n              <Button1>\n                <a\n                  href={`${config.drupal_url}/user/login`}\n                  style={{ color: \"white\" }}\n                >\n                  LOGIN\n                </a>\n              </Button1>\n            )}\n          </LinkWrapper>\n        </Menu1>\n      </Container>\n    </Nav>\n  );\n};\n\nexport default FilterNav;\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n  flex-wrap: wrap;\n  max-width: 100%;\n  margin: auto;\n  padding: 0;\n  img {\n    cursor: Pointer;\n  }\n  a {\n    text-decoration: none;\n    color: #000000;\n    font-size: 18px;\n    font-family: Montserrat;\n    padding: 0.7rem 1.5rem;\n    transition: all 0.2s ease-in;\n    font-wegiht: 500;\n    &:hover {\n      color: #ef6e25;\n      background: #e7e9fc;\n    }\n  }\n`;\n\nconst Nav = styled.div`\n  height: 5%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  position: sticky;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 3;\n  background-color:#FFF;\n`;\n\nconst Menu1 = styled.div`\n  diplay: flex;\n  justy-content: space-between;\n  align-item: center;\n  position: relative;\n  @media (max-width: 768px) {\n    background-color: rgba(255, 255, 255, 0.9);\n    @supports (-webkit-backdrop-filter: none) or (backdrop-filter: none) {\n      -webkit-backdrop-filter: blur(35px);\n      backdrop-filter: blur(15px);\n      background-color: rgba(255, 255, 255, 0.4);\n    }\n    border-radius: 1rem;\n    margin-top: 1rem;\n    box-shadow: -4px 8px 15px 1px rgba(0, 0, 0, 0.07);\n    overflow: hidden;\n    flex-direction: column;\n    max-height: ${({ isOpen }) => (isOpen ? \"300px\" : \"0\")};\n    transition: max-height 0.3s ease-in;\n    width: 100%;\n  }\n`;\nconst LinkWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  padding: 0.5rem 0;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\nconst MenuLink = styled.div`\n  text-decoration: none;\n  color: #858586;\n  font-size: 1rem;\n  padding: 0rem;\n  transition: all 0.2s ease-in;\n  border-radius: 0.5rem;\n  font-weight: 500;\n  cursor: pointer;\n  &:hover {\n    color: #ef6e25;\n    background: #e7e9fc;\n  }\n`;\nconst Button1 = styled.button`\n  font-family: Montserrat;\n  font-size: 1rem;\n  background: #ef6e25;\n  border: none;\n  padding: 8px;\n  color: white;\n  border-radius: 1rem;\n  box-shadow: 0px 2px 3px -2px #ef6e25;\n  transition: all 0.2s ease-in;\n  margin-left: 0.5rem;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 1px 5px 12px -6px #ef6e25;\n    transform: translateY(-2px);\n  }\n  @media (max-width: 768px) {\n  }\n  a {\n    text-decoration: none;\n    color: white;\n    &:hover {\n      color: white;\n      background: none;\n    }\n  }\n`;\nconst Humburger = styled.div`\n  display: none;\n  flex-direction: column;\n  cursor: pointer;\n  span {\n    height: 2px;\n    width: 25px;\n    background: #ef6e25;\n    margin-bottom: 4px;\n    border-radius: 5px;\n  }\n  @media (max-width: 780px) {\n    display: flex;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}