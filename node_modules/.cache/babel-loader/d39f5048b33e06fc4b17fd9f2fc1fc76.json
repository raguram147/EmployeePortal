{"ast":null,"code":"var _jsxFileName = \"/home/gurramkonda_y/Desktop/react/emp-portal/src/components/ActivityNotifications.js\";\nimport React from \"react\";\nimport { EmployeeApi } from '../utility'; // import ReactNotification from 'react-notifications-component'\n\nimport 'react-notifications-component/dist/theme.css'; // import { store } from 'react-notifications-component';\n// import {NotificationsAlert} from './FilterPage'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ActivityNotifications() {\n  //   const [events, setEvents] = useState();\n  const AllEvents = () => {\n    let employees = EmployeeApi();\n    let count = 0;\n\n    if (employees) {\n      var date = new Date().getDate();\n\n      if (date < 10) {\n        date = \"0\" + date;\n      }\n\n      var month = new Date().getMonth() + 1;\n\n      if (month < 10) {\n        month = \"0\" + month;\n      }\n\n      var todayDoB = month + '-' + date; // console.log(todayDoB + ' ' + DOB );\n      // console.log(year + '-' + month + '-' + date);\n\n      for (let i = 0; i < employees.length; i++) {\n        let DOB = employees[i].DOB.slice(5, 10);\n\n        if (DOB.includes(todayDoB)) {\n          count++; // let EmployeeBirthday = { Id: employees[i].nid, name: employees[i].name,EmployeeId: employees[i].Emp_id, pod: employees[i].Pod, event:\"birthday\"};\n          // console.log( NotificationsAlert());  \n        }\n\n        if (employees[i].revision_id !== employees[i].latest_revision_id) {\n          count++; // let EmployeeProfileChanged = { Id: employees[i].nid, name: employees[i].name, event:\"profile\"};\n          // event.push(EmployeeProfileChanged);\n          // console.log(EmployeeProfileChanged);\n        }\n      }\n    } // setEvents(event);\n\n\n    window.sessionStorage.setItem(\"NotificationsCount\", count);\n    return count;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: console.log(AllEvents())\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_c = ActivityNotifications;\nexport default ActivityNotifications;\n\nvar _c;\n\n$RefreshReg$(_c, \"ActivityNotifications\");","map":{"version":3,"sources":["/home/gurramkonda_y/Desktop/react/emp-portal/src/components/ActivityNotifications.js"],"names":["React","EmployeeApi","ActivityNotifications","AllEvents","employees","count","date","Date","getDate","month","getMonth","todayDoB","i","length","DOB","slice","includes","revision_id","latest_revision_id","window","sessionStorage","setItem","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,YAA1B,C,CACA;;AACA,OAAO,8CAAP,C,CACA;AACA;;;;AAEA,SAASC,qBAAT,GAAiC;AAEjC;AAEE,QAAMC,SAAS,GAAG,MAAM;AACtB,QAAIC,SAAS,GAAGH,WAAW,EAA3B;AACA,QAAII,KAAK,GAAG,CAAZ;;AACA,QAAGD,SAAH,EAAa;AACT,UAAIE,IAAI,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAX;;AACA,UAAGF,IAAI,GAAE,EAAT,EAAY;AACRA,QAAAA,IAAI,GAAG,MAAIA,IAAX;AACH;;AACD,UAAIG,KAAK,GAAG,IAAIF,IAAJ,GAAWG,QAAX,KAAsB,CAAlC;;AACA,UAAGD,KAAK,GAAE,EAAV,EAAa;AACTA,QAAAA,KAAK,GAAG,MAAIA,KAAZ;AACH;;AACD,UAAIE,QAAQ,GAAGF,KAAK,GAAG,GAAR,GAAcH,IAA7B,CATS,CAUT;AACA;;AACA,WAAI,IAAIM,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACR,SAAS,CAACS,MAAzB,EAAiCD,CAAC,EAAlC,EAAqC;AACjC,YAAIE,GAAG,GAAGV,SAAS,CAACQ,CAAD,CAAT,CAAaE,GAAb,CAAiBC,KAAjB,CAAuB,CAAvB,EAA0B,EAA1B,CAAV;;AACA,YAAGD,GAAG,CAACE,QAAJ,CAAaL,QAAb,CAAH,EAA2B;AACvBN,UAAAA,KAAK,GADkB,CAEvB;AAEA;AACH;;AAED,YAAGD,SAAS,CAACQ,CAAD,CAAT,CAAaK,WAAb,KAA6Bb,SAAS,CAACQ,CAAD,CAAT,CAAaM,kBAA7C,EAAgE;AAC5Db,UAAAA,KAAK,GADuD,CAE5D;AACA;AACA;AACH;AACJ;AAEJ,KAhCqB,CAiCtB;;;AACAc,IAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,oBAA9B,EAAoDhB,KAApD;AACC,WAAOA,KAAP;AAEF,GArCD;;AAuCE,sBACI;AAAA,cAEMiB,OAAO,CAACC,GAAR,CAAYpB,SAAS,EAArB;AAFN;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH;;KAlDQD,qB;AAoDT,eAAeA,qBAAf","sourcesContent":["import React from \"react\";\nimport {EmployeeApi} from '../utility'\n// import ReactNotification from 'react-notifications-component'\nimport 'react-notifications-component/dist/theme.css'\n// import { store } from 'react-notifications-component';\n// import {NotificationsAlert} from './FilterPage'\n\nfunction ActivityNotifications() {\n\n//   const [events, setEvents] = useState();\n\n  const AllEvents = () => {\n    let employees = EmployeeApi();\n    let count = 0;\n    if(employees){\n        var date = new Date().getDate();\n        if(date< 10){\n            date = \"0\"+date;\n        }\n        var month = new Date().getMonth()+1;\n        if(month< 10){\n            month = \"0\"+month;\n        }\n        var todayDoB = month + '-' + date;\n        // console.log(todayDoB + ' ' + DOB );\n        // console.log(year + '-' + month + '-' + date);\n        for(let i=0; i<employees.length; i++){\n            let DOB = employees[i].DOB.slice(5, 10);\n            if(DOB.includes(todayDoB) ){\n                count++;\n                // let EmployeeBirthday = { Id: employees[i].nid, name: employees[i].name,EmployeeId: employees[i].Emp_id, pod: employees[i].Pod, event:\"birthday\"};\n              \n                // console.log( NotificationsAlert());  \n            }\n\n            if(employees[i].revision_id !== employees[i].latest_revision_id){\n                count++;\n                // let EmployeeProfileChanged = { Id: employees[i].nid, name: employees[i].name, event:\"profile\"};\n                // event.push(EmployeeProfileChanged);\n                // console.log(EmployeeProfileChanged);\n            }\n        }\n       \n    }\n    // setEvents(event);\n    window.sessionStorage.setItem(\"NotificationsCount\", count);\n     return count;\n\n  };\n\n    return (\n        <div>\n            {/* {events} */}\n            { console.log(AllEvents())}\n            {/* <ReactNotification></ReactNotification> */}\n        </div>\n    )\n}\n\nexport default ActivityNotifications\n"]},"metadata":{},"sourceType":"module"}